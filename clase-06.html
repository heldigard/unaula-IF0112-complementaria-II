<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clase 6: Programaci√≥n para Microcontroladores | IF0112</title>
    <style>
        /* ============================================
           DESIGN SYSTEM - Spacing Scale (8px base)
           ============================================ */
        :root {
            /* Spacing scale */
            --space-1: 0.25rem;  /* 4px */
            --space-2: 0.5rem;   /* 8px */
            --space-3: 0.75rem;  /* 12px */
            --space-4: 1rem;     /* 16px */
            --space-5: 1.25rem;  /* 20px */
            --space-6: 1.5rem;   /* 24px */
            --space-8: 2rem;     /* 32px */
            --space-10: 2.5rem;  /* 40px */
            --space-12: 3rem;    /* 48px */

            /* Typography scale */
            --text-xs: 0.75rem;    /* 12px */
            --text-sm: 0.875rem;   /* 14px */
            --text-base: 1rem;     /* 16px */
            --text-lg: 1.125rem;   /* 18px */
            --text-xl: 1.25rem;    /* 20px */
            --text-2xl: 1.5rem;    /* 24px */
            --text-3xl: 1.875rem;  /* 30px */
            --text-4xl: 2.25rem;   /* 36px */

            /* Line heights */
            --leading-tight: 1.25;
            --leading-snug: 1.375;
            --leading-normal: 1.5;
            --leading-relaxed: 1.625;
            --leading-loose: 2;

            /* Colors - improved accessibility */
            --color-primary: #1e40af;
            --color-primary-light: #3b82f6;
            --color-secondary: #0f172a;
            --color-accent: #f59e0b;

            /* Text colors - WCAG AA compliant */
            --text-primary: #0f172a;      /* #0f172a on white = 16.4:1 */
            --text-secondary: #334155;    /* #334155 on white = 9.8:1 */
            --text-muted: #64748b;        /* #64748b on white = 5.1:1 */
            --text-inverse: #ffffff;

            /* Background colors */
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;

            /* Border colors */
            --border-light: #e2e8f0;
            --border-medium: #cbd5e1;

            /* Shadows */
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);

            /* Border radius */
            --radius-sm: 0.25rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
        }

        /* ============================================
           RESET & BASE STYLES
           ============================================ */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: var(--leading-normal);
            color: var(--text-primary);
            background: var(--bg-tertiary);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ============================================
           LAYOUT
           ============================================ */
        .container {
            max-width: 1280px;
            margin: 0 auto;
            background: var(--bg-primary);
            box-shadow: var(--shadow-xl);
        }

        /* ============================================
           HEADER
           ============================================ */
        header {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
            color: var(--text-inverse);
            padding: var(--space-8) var(--space-6);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 400px;
            height: 400px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            pointer-events: none;
        }

        header h1 {
            font-size: var(--text-4xl);
            font-weight: 700;
            margin-bottom: var(--space-2);
            line-height: var(--leading-tight);
            position: relative;
            z-index: 1;
        }

        header .subtitle {
            font-size: var(--text-lg);
            opacity: 0.95;
            font-weight: 400;
        }

        header .meta {
            margin-top: var(--space-4);
            font-size: var(--text-sm);
            opacity: 0.85;
            display: inline-flex;
            align-items: center;
            gap: var(--space-3);
            flex-wrap: wrap;
            justify-content: center;
        }

        header .meta span {
            padding: var(--space-1) var(--space-3);
            background: rgba(255,255,255,0.15);
            border-radius: var(--radius-lg);
        }

        /* ============================================
           NAVIGATION - Enhanced
           ============================================ */
        nav {
            background: var(--color-secondary);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-md);
        }

        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            padding: 0 var(--space-4);
            max-width: 100%;
            overflow-x: auto;
        }

        nav li {
            margin: 0;
        }

        nav a {
            display: block;
            padding: var(--space-3) var(--space-4);
            color: rgba(255,255,255,0.85);
            text-decoration: none;
            transition: all 0.2s ease;
            font-size: var(--text-sm);
            font-weight: 500;
            white-space: nowrap;
            border-bottom: 2px solid transparent;
        }

        nav a:hover {
            background: rgba(255,255,255,0.1);
            color: var(--text-inverse);
        }

        nav a:focus {
            outline: 2px solid var(--color-accent);
            outline-offset: -2px;
        }

        /* Progress indicator */
        .progress-bar {
            height: 3px;
            background: rgba(255,255,255,0.2);
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-accent), #fbbf24);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* ============================================
           MAIN CONTENT
           ============================================ */
        main {
            padding: var(--space-8);
            max-width: 1024px;
            margin: 0 auto;
        }

        section {
            margin-bottom: var(--space-12);
            scroll-margin-top: 80px;
            scroll-margin-block: 80px;
        }

        /* ============================================
           TYPOGRAPHY HIERARCHY
           ============================================ */
        section h2 {
            color: var(--color-primary);
            border-bottom: 3px solid var(--color-primary-light);
            padding-bottom: var(--space-2);
            margin-bottom: var(--space-6);
            font-size: var(--text-3xl);
            font-weight: 700;
            line-height: var(--leading-tight);
        }

        section h3 {
            color: var(--color-primary);
            margin: var(--space-6) 0 var(--space-4);
            font-size: var(--text-2xl);
            font-weight: 600;
            line-height: var(--leading-snug);
        }

        section h4 {
            color: var(--text-secondary);
            margin: var(--space-4) 0 var(--space-2);
            font-size: var(--text-lg);
            font-weight: 600;
        }

        section h5 {
            color: var(--text-secondary);
            margin: var(--space-3) 0 var(--space-2);
            font-size: var(--text-base);
            font-weight: 600;
        }

        p {
            margin-bottom: var(--space-4);
            text-align: justify;
            line-height: var(--leading-relaxed);
            max-width: 75ch;
        }

        /* ============================================
           CALLOUT BOXES
           ============================================ */
        .intro-box {
            background: #eff6ff;
            border-left: 4px solid var(--color-primary-light);
            padding: var(--space-5);
            margin: var(--space-6) 0;
            border-radius: 0 var(--radius-lg) var(--radius-lg) 0;
            box-shadow: var(--shadow-sm);
        }

        .intro-box strong {
            color: var(--color-primary);
            font-weight: 600;
        }

        .example-box {
            background: #fef3c7;
            border-left: 4px solid var(--color-accent);
            padding: var(--space-5);
            margin: var(--space-5) 0;
            border-radius: 0 var(--radius-lg) var(--radius-lg) 0;
            box-shadow: var(--shadow-sm);
        }

        .alert-box {
            background: #fee2e2;
            border-left: 4px solid #ef4444;
            padding: var(--space-5);
            margin: var(--space-5) 0;
            border-radius: 0 var(--radius-lg) var(--radius-lg) 0;
            box-shadow: var(--shadow-sm);
        }

        /* ============================================
           TABLES - Enhanced
           ============================================ */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: var(--space-6) 0;
            font-size: var(--text-sm);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-md);
        }

        th {
            background: var(--color-primary);
            color: var(--text-inverse);
            padding: var(--space-3) var(--space-4);
            text-align: left;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.025em;
            font-size: var(--text-xs);
        }

        td {
            padding: var(--space-3) var(--space-4);
            border-bottom: 1px solid var(--border-light);
        }

        tbody tr:nth-child(even) {
            background: var(--bg-secondary);
        }

        tbody tr:hover {
            background: #e0e7ff;
            transition: background 0.15s ease;
        }

        /* Responsive tables */
        @media (max-width: 768px) {
            table {
                font-size: var(--text-xs);
            }
            th, td {
                padding: var(--space-2) var(--space-3);
            }
        }

        /* ============================================
           GRIDS
           ============================================ */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: var(--space-6);
            margin: var(--space-6) 0;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: var(--space-5);
            margin: var(--space-6) 0;
        }

        /* ============================================
           CARDS - Enhanced
           ============================================ */
        .card {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
            transition: all 0.2s ease;
        }

        .card:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .card h4 {
            color: var(--color-primary);
            margin-bottom: var(--space-2);
            font-size: var(--text-lg);
        }

        .card-blue { background: #eff6ff; border-color: #bfdbfe; }
        .card-green { background: #f0fdf4; border-color: #bbf7d0; }
        .card-yellow { background: #fef3c7; border-color: #fde68a; }
        .card-pink { background: #fdf2f8; border-color: #fbcfe8; }

        /* ============================================
           FLOW DIAGRAM
           ============================================ */
        .flow-diagram {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-3);
            align-items: center;
            margin: var(--space-8) 0;
            justify-content: center;
        }

        .flow-step {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: var(--space-4) var(--space-5);
            border-radius: var(--radius-lg);
            text-align: center;
            flex: 0 0 auto;
            min-width: 150px;
            font-size: var(--text-base);
            font-weight: 500;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border: 2px solid #1d4ed8;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .flow-step:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 12px -1px rgba(0, 0, 0, 0.15), 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .flow-step strong {
            display: block;
            font-size: var(--text-lg);
            margin-bottom: var(--space-1);
        }

        .flow-step small {
            color: rgba(255, 255, 255, 0.9);
            font-size: var(--text-sm);
        }

        .flow-arrow {
            font-size: var(--text-3xl);
            color: #1d4ed8;
            font-weight: bold;
            flex: 0 0 auto;
        }

        /* ============================================
           TIMELINE
           ============================================ */
        .timeline {
            position: relative;
            padding-left: var(--space-8);
            margin: var(--space-6) 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: var(--space-2);
            bottom: var(--space-2);
            width: 3px;
            background: linear-gradient(to bottom, var(--color-primary-light), var(--color-primary));
            border-radius: 2px;
        }

        .timeline-item {
            margin-bottom: var(--space-6);
            position: relative;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: calc(-1 * var(--space-8) - 5px);
            top: var(--space-2);
            width: 14px;
            height: 14px;
            background: var(--color-primary-light);
            border-radius: 50%;
            border: 3px solid var(--bg-primary);
            box-shadow: 0 0 0 3px var(--color-primary-light);
        }

        /* ============================================
           CODE BLOCKS
           ============================================ */
        pre {
            background: var(--color-secondary);
            color: #e2e8f0;
            padding: var(--space-4);
            border-radius: var(--radius-lg);
            overflow-x: auto;
            margin: var(--space-4) 0;
            font-size: var(--text-sm);
            line-height: var(--leading-relaxed);
            box-shadow: var(--shadow-md);
        }

        code {
            background: var(--bg-tertiary);
            color: var(--color-primary);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-md);
            font-size: 0.9em;
            font-weight: 500;
        }

        pre code {
            background: transparent;
            padding: 0;
            color: inherit;
        }

        /* ============================================
           FIGURES
           ============================================ */
        figure {
            margin: var(--space-8) 0;
            text-align: center;
        }

        figure img {
            max-width: 100%;
            height: auto;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
        }

        figcaption {
            margin-top: var(--space-3);
            font-size: var(--text-sm);
            color: var(--text-muted);
            font-style: italic;
            line-height: var(--leading-relaxed);
        }

        /* ============================================
           LISTS
           ============================================ */
        ul, ol {
            margin-left: var(--space-6);
            margin-bottom: var(--space-4);
        }

        li {
            margin-bottom: var(--space-2);
            line-height: var(--leading-relaxed);
        }

        /* ============================================
           SPECIAL TABLES
           ============================================ */
        .competencies-table th:first-child,
        .competencies-table td:first-child {
            width: 20%;
            text-align: center;
            font-size: var(--text-3xl);
        }

        .eras-table td:first-child {
            font-weight: 700;
            color: var(--color-primary);
        }

        /* ============================================
           BACK TO TOP BUTTON
           ============================================ */
        .back-to-top {
            position: fixed;
            bottom: var(--space-6);
            right: var(--space-6);
            background: var(--color-primary);
            color: var(--text-inverse);
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-lg);
            border: none;
            font-size: var(--text-xl);
            z-index: 99;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background: var(--color-primary-light);
            transform: translateY(-2px);
        }

        .back-to-top:focus {
            outline: 3px solid var(--color-accent);
            outline-offset: 2px;
        }

        /* ============================================
           FOOTER
           ============================================ */
        footer {
            background: var(--color-secondary);
            color: var(--text-inverse);
            text-align: center;
            padding: var(--space-8) var(--space-6);
            margin-top: var(--space-12);
        }

        footer p {
            margin: var(--space-2) 0;
            text-align: center;
            color: rgba(255,255,255,0.85);
        }

        /* ============================================
           RESPONSIVE DESIGN
           ============================================ */
        @media (max-width: 1024px) {
            main { padding: var(--space-6); }
        }

        @media (max-width: 768px) {
            header {
                padding: var(--space-6) var(--space-4);
            }
            header h1 {
                font-size: var(--text-3xl);
            }
            header .subtitle {
                font-size: var(--text-base);
            }
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
            nav {
                position: relative;
            }
            nav ul {
                flex-direction: column;
                padding: 0;
            }
            nav a {
                padding: var(--space-3) var(--space-4);
                border-bottom: 1px solid rgba(255,255,255,0.1);
            }
            main {
                padding: var(--space-4);
            }
            section {
                margin-bottom: var(--space-10);
            }
            section h2 {
                font-size: var(--text-2xl);
            }
            .back-to-top {
                bottom: var(--space-4);
                right: var(--space-4);
                width: 44px;
                height: 44px;
            }
        }

        @media (max-width: 480px) {
            html {
                font-size: 14px;
            }
            header h1 {
                font-size: var(--text-2xl);
            }
            .flow-step {
                min-width: 120px;
                font-size: var(--text-sm);
                padding: var(--space-3) var(--space-4);
            }
            .flow-step strong {
                font-size: var(--text-base);
            }
            .flow-arrow {
                font-size: var(--text-2xl);
            }
        }

        /* ============================================
           ACCESSIBILITY ENHANCEMENTS
           ============================================ */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        :focus-visible {
            outline: 3px solid var(--color-accent);
            outline-offset: 2px;
        }

        /* Skip link for keyboard users */
        .skip-link {
            position: absolute;
            top: -100px;
            left: 0;
            background: var(--color-primary);
            color: var(--text-inverse);
            padding: var(--space-2) var(--space-4);
            z-index: 999;
            text-decoration: none;
            font-weight: 600;
        }

        .skip-link:focus {
            top: 0;
        }

        /* Print styles */
        @media print {
            nav, .back-to-top, .progress-bar {
                display: none;
            }
            body {
                background: white;
            }
            .container {
                box-shadow: none;
            }
        }

        /* ============================================
           SPECIAL COMPONENTS - clase-06.html
           ============================================ */
        .info-box {
            padding: var(--space-5);
            border-radius: var(--radius-lg);
            margin: var(--space-5) 0;
            border-left: 4px solid;
        }
        .info-box.success { background: #f0fdf4; border-color: var(--color-success, #10b981); }
        .info-box.warning { background: #fef3c7; border-color: var(--color-accent, #f59e0b); }
        .info-box.info { background: #dbeafe; border-color: var(--color-secondary, #3b82f6); }
        .info-box.danger { background: #fef2f2; border-color: #ef4444; }
        .info-box h4 { margin-bottom: var(--space-2); color: inherit; }

        .activity {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            padding: var(--space-5);
            border-radius: var(--radius-lg);
            margin: var(--space-5) 0;
            border: 2px solid #60a5fa;
        }
        .activity h4 { color: var(--color-primary); margin-bottom: var(--space-2); }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-5);
            margin: var(--space-5) 0;
        }
        .comparison-card {
            padding: var(--space-5);
            border-radius: var(--radius-lg);
        }
        .comparison-card.good { background: #f0fdf4; border: 2px solid #86efac; }
        .comparison-card.bad { background: #fef2f2; border: 2px solid #fca5a5; }

        /* ============================================
           EXECUTION FLOW DIAGRAM
           ============================================ */
        .execution-flow-diagram {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            padding: var(--space-5);
            border-radius: var(--radius-lg);
            margin: var(--space-4) 0;
        }

        .flow-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-2);
            flex-wrap: wrap;
        }

        .flow-step {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-3);
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: var(--text-sm);
        }

        .step-icon {
            font-size: var(--text-lg);
        }

        .step-text {
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .flow-start {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 2px solid #f59e0b;
        }

        .flow-start .step-text {
            color: #92400e;
        }

        .flow-setup {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border: 2px solid #3b82f6;
        }

        .flow-setup .step-text {
            color: #1e40af;
        }

        .flow-loop {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border: 2px solid #10b981;
        }

        .flow-loop .step-text {
            color: #065f46;
        }

        .flow-ellipsis {
            background: #e2e8f0;
            color: var(--text-muted);
        }

        .flow-arrow {
            font-size: var(--text-xl);
            color: var(--text-muted);
            font-weight: 700;
        }

        .reset-loop {
            display: flex;
            justify-content: flex-end;
            margin-top: var(--space-3);
        }

        .reset-arrow {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-3);
            background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
            border: 2px solid #ec4899;
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            font-weight: 600;
        }

        .reset-icon {
            font-size: var(--text-base);
        }

        .reset-text {
            color: #9f1239;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* ============================================
           DUTY CYCLE DIAGRAM
           ============================================ */
        .duty-cycle-diagram {
            background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
            padding: var(--space-6);
            border-radius: var(--radius-lg);
            margin: var(--space-6) 0;
        }

        .duty-intro {
            text-align: center;
            font-size: var(--text-base);
            margin-bottom: var(--space-5);
            padding: var(--space-3);
            background: white;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-sm);
        }

        .duty-cycles {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-4);
        }

        .duty-cycle-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-2);
        }

        .duty-label {
            font-weight: 700;
            font-size: var(--text-lg);
            color: var(--color-primary);
        }

        .duty-wave {
            width: 80px;
            height: 60px;
            border-radius: var(--radius-md);
            overflow: hidden;
            background: white;
            box-shadow: var(--shadow-md);
            position: relative;
        }

        .wave-high {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            height: 100%;
            position: relative;
        }

        .wave-low {
            background: #e2e8f0;
            flex: 1;
        }

        .duty-25 .wave-high {
            width: 25%;
            display: inline-block;
        }
        .duty-25 .wave-low {
            width: 75%;
            display: inline-block;
        }

        .duty-50 .wave-high {
            width: 50%;
            display: inline-block;
        }
        .duty-50 .wave-low {
            width: 50%;
            display: inline-block;
        }

        .duty-75 .wave-high {
            width: 75%;
            display: inline-block;
        }
        .duty-75 .wave-low {
            width: 25%;
            display: inline-block;
        }

        .duty-100 .wave-high {
            width: 100%;
            display: inline-block;
        }
        .duty-100 .wave-low {
            display: none;
        }

        .duty-result {
            font-weight: 600;
            font-size: var(--text-sm);
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        @media (max-width: 768px) {
            .duty-cycles {
                grid-template-columns: repeat(2, 1fr);
            }

            .flow-container {
                flex-direction: column;
            }

            .flow-arrow {
                transform: rotate(90deg);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Clase 6: Programaci√≥n para Microcontroladores</h1>
            <p class="subtitle">Arduino IDE y Primeros Programas</p>
            <p class="meta">
                IF0112 - Complementaria II (IoT) | 6¬∞ Semestre - Ingenier√≠a Inform√°tica | UNAULA
            </p>
        </header>

        <nav>
            <ul>
                <li><a href="#objetivos">Objetivos</a></li>
                <li><a href="#intro">Introducci√≥n</a></li>
                <li><a href="#terminos-hardware">T√©rminos Clave</a></li>
                <li><a href="#arduino">Arduino IDE</a></li>
                <li><a href="#estructura">Estructura</a></li>
                <li><a href="#funciones">Funciones</a></li>
                <li><a href="#blink">Blink LED</a></li>
                <li><a href="#boton">Bot√≥n + LED</a></li>
                <li><a href="#ldr">Sensor LDR</a></li>
                <li><a href="#pwm">PWM</a></li>
                <li><a href="#dht11">DHT11</a></li>
                <li><a href="#buenas">Buenas Pr√°cticas</a></li>
                <li><a href="#troubleshooting">Troubleshooting</a></li>
                <li><a href="#actividad">Actividad</a></li>
            </ul>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </nav>

        <!-- Back to top button -->
        <button class="back-to-top" id="backToTop" aria-label="Volver arriba">‚Üë</button>

        <main>

        <!-- Objectives Section -->
        <section id="objetivos">
            <h2>Objetivos de la Clase</h2>

            <p>Al finalizar esta clase, el estudiante ser√° capaz de:</p>
            <ul>
                <li><strong>Configurar</strong> Arduino IDE para ESP32</li>
                <li><strong>Entender</strong> la estructura de programas (setup/loop)</li>
                <li><strong>Leer</strong> sensores digitales y anal√≥gicos</li>
                <li><strong>Controlar</strong> LEDs, botones y actuadores b√°sicos</li>
                <li><strong>Usar</strong> el monitor serial para depuraci√≥n</li>
            </ul>
        </section>

        <!-- Introducci√≥n -->
        <section id="intro">
            <h2>ü§î ¬øPor qu√© Programar Microcontroladores?</h2>

            <div class="learning-key">
                <h4>üéØ Aprendizaje Clave</h4>
                <p>Programar microcontroladores permite dar <strong>inteligencia</strong> a dispositivos f√≠sicos, convirtiendo sensores y actuadores en sistemas aut√≥nomos que responden al entorno.</p>
            </div>
            
            <h3>Est√°n en TODAS Partes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Dispositivo</th>
                        <th>Microcontroladores</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>‚åö Smartwatch</td><td>3-5 MCUs</td></tr>
                    <tr><td>üöó Autom√≥vil moderno</td><td>40-100 MCUs</td></tr>
                    <tr><td>üè† Smart Home</td><td>10-50 MCUs</td></tr>
                    <tr><td>üì± Smartphone</td><td>8-15 MCUs</td></tr>
                    <tr><td>üè≠ F√°brica industrial</td><td>1000+ MCUs</td></tr>
                </tbody>
            </table>
            
            <h3>Oportunidades Laborales Colombia (2026)</h3>
            <table>
                <thead>
                    <tr><th>Rol</th><th>Salario Mensual</th><th>Vacantes</th></tr>
                </thead>
                <tbody>
                    <tr><td>Desarrollador IoT Junior</td><td>$3.5M - $5M COP</td><td>+2,500</td></tr>
                    <tr><td>Desarrollador IoT Senior</td><td>$6M - $10M COP</td><td>+800</td></tr>
                    <tr><td>Ingeniero de Embarcados</td><td>$5M - $8M COP</td><td>+600</td></tr>
                    <tr><td>Arquitecto IoT</td><td>$8M - $15M COP</td><td>+200</td></tr>
                </tbody>
            </table>
            
            <div class="info-box info">
                <h4>üí° ¬øPor qu√© Arduino para Comenzar?</h4>
                <p><strong>Ventajas:</strong> Curva de aprendizaje suave, IDE gratuito y multiplataforma, miles de bibliotecas disponibles, comunidad global activa, hardware econ√≥mico ($10-30 USD), documentaci√≥n extensa en espa√±ol.</p>
                <p><strong>Limitaciones:</strong> No es un IDE profesional completo, gesti√≥n de proyectos grandes es dif√≠cil, no tiene debugger integrado.</p>
                <p><strong>Alternativas profesionales:</strong> PlatformIO + VSCode, ESP-IDF (nativo Espressif), MicroPython.</p>
            </div>
        </section>

        <!-- Key Hardware Terms Definitions -->
        <section id="terminos-hardware">
            <h2>T√©rminos Clave de Hardware y Programaci√≥n</h2>

            <div class="highlight">
                <strong>Nota:</strong> Los siguientes t√©rminos son fundamentales para comprender la programaci√≥n de microcontroladores. Familiarizarse con ellos facilita el aprendizaje de Arduino/ESP32.
            </div>

            <table>
                <thead>
                    <tr>
                        <th>T√©rmino</th>
                        <th>Definici√≥n</th>
                        <th>Ejemplo en Arduino/ESP32</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>GPIO</strong></td>
                        <td>General Purpose Input/Output: Pines de entrada/salida de prop√≥sito general</td>
                        <td>GPIO18 puede ser INPUT o OUTPUT seg√∫n se configure</td>
                    </tr>
                    <tr>
                        <td><strong>ESP32</strong></td>
                        <td>Microcontrolador de Espressif con WiFi/BLE integrados, low-cost, comunidad grande</td>
                        <td>La placa usada en este curso (reemplaza a Arduino cl√°sico)</td>
                    </tr>
                    <tr>
                        <td><strong>PWM</strong></td>
                        <td>Pulse Width Modulation: Modulaci√≥n por ancho de pulso para simular salida anal√≥gica</td>
                        <td>Controla brillo de LED variando el ancho del pulso</td>
                    </tr>
                    <tr>
                        <td><strong>ADC</strong></td>
                        <td>Analog-to-Digital Converter: Convierte se√±ales anal√≥gicas a valores digitales</td>
                        <td>Lectura de LDR devuelve 0-4095 (12-bit) en ESP32</td>
                    </tr>
                    <tr>
                        <td><strong>Pull-up</strong></td>
                        <td>Resistencia interna que mantiene un pin en estado HIGH cuando no est√° conectado</td>
                        <td>INPUT_PULLUP evita lecturas err√°ticas cuando bot√≥n est√° abierto</td>
                    </tr>
                    <tr>
                        <td><strong>Firmware</strong></td>
                        <td>Software de bajo nivel que controla el hardware directamente</td>
                        <td>El c√≥digo Arduino se convierte en firmware que ejecuta el ESP32</td>
                    </tr>
                    <tr>
                        <td><strong>LDR</strong></td>
                        <td>Light Dependent Resistor: Resistencia que var√≠a con la luz incidente</td>
                        <td>Mayor luz = menor resistencia, se usa con divisor de voltaje</td>
                    </tr>
                    <tr>
                        <td><strong>DHT11</strong></td>
                        <td>Sensor digital de temperatura y humedad (rango: 0-50¬∞C, 20-90% HR)</td>
                        <td Usa protocolo propio de un hilo, requiere librer√≠a DHT.h </td>
                    </tr>
                    <tr>
                        <td><strong>isnan()</strong></td>
                        <td>Is Not a Number: Funci√≥n C++ que verifica si un valor es inv√°lido (NaN)</td>
                        <td>Usado para detectar fallas de lectura del sensor DHT11</td>
                    </tr>
                    <tr>
                        <td><strong>Baud Rate</strong></td>
                        <td>Velocidad de comunicaci√≥n serial (bits por segundo)</td>
                        <td>115200 es est√°ndar para ESP32, 9600 es compatible universal</td>
                    </tr>
                    <tr>
                        <td><strong>Monitor Serial</strong></td>
                        <td>Herramienta para ver datos enviados por el microcontrolador v√≠a USB</td>
                        <td>Usa Serial.print() en c√≥digo, abre con Ctrl+Shift+M</td>
                    </tr>
                </tbody>
            </table>

            <div class="alert-box">
                <strong>Error Com√∫n:</strong> Confundir <em>pinMode()</em> con <em>digitalWrite()</em>. <strong>pinMode()</strong> CONFIGURA el pin (una vez en setup), <strong>digitalWrite()</strong> ESCRIBE un valor (en loop, muchas veces). No configures pines repetidamente.
            </div>
        </section>

        <!-- Arduino IDE -->
        <section id="arduino">
            <h2>üîß Instalaci√≥n y Configuraci√≥n de Arduino IDE</h2>

            <div class="learning-key">
                <h4>üéØ Aprendizaje Clave</h4>
                <p>Arduino IDE es la herramienta fundamental para programar ESP32. Su configuraci√≥n correcta (board, puerto, URLs) es esencial para compilar y subir c√≥digo.</p>
            </div>

            <div class="hardware-notice">
                <h4>üíª Nota sobre Factibilidad Windows</h4>
                <p><strong>Arduino IDE es gratuito y multiplataforma.</strong> Esta clase puede seguirse completamente con simuladores (Wokwi, Tinkercad) o en modo "demo del docente". <strong>No es obligatorio</strong> comprar hardware seg√∫n el programa del curso IF0112.</p>
            </div>
            
            <h3>Paso a Paso</h3>
            <table>
                <thead>
                    <tr><th>Paso</th><th>Acci√≥n</th><th>Descripci√≥n</th></tr>
                </thead>
                <tbody>
                    <tr><td>1Ô∏è‚É£</td><td>Descargar</td><td>arduino.cc - Windows/Mac/Linux</td></tr>
                    <tr><td>2Ô∏è‚É£</td><td>Instalar</td><td>Ejecutar instalador, aceptar t√©rminos</td></tr>
                    <tr><td>3Ô∏è‚É£</td><td>Configurar ESP32</td><td>File ‚Üí Preferences ‚Üí URLs adicionales</td></tr>
                    <tr><td>4Ô∏è‚É£</td><td>Instalar soporte</td><td>Tools ‚Üí Board ‚Üí Boards Manager ‚Üí ESP32</td></tr>
                    <tr><td>5Ô∏è‚É£</td><td>Seleccionar placa</td><td>Tools ‚Üí Board ‚Üí ESP32 Arduino ‚Üí ESP32 Dev Module</td></tr>
                    <tr><td>6Ô∏è‚É£</td><td>Puerto COM</td><td>Tools ‚Üí Port ‚Üí seleccionar puerto correcto</td></tr>
                </tbody>
            </table>
            
            <div class="info-box warning">
                <h4>‚ö†Ô∏è URL para ESP32</h4>
                <code>https://dl.espressif.com/dl/package_esp32_index.json</code>
            </div>
            
            <h3>Puertos por Sistema Operativo</h3>
            <table>
                <thead>
                    <tr><th>SO</th><th>Puerto t√≠pico</th><th>Driver</th></tr>
                </thead>
                <tbody>
                    <tr><td>Windows</td><td>COM3, COM4, COM5</td><td>CP210x o CH340</td></tr>
                    <tr><td>Linux</td><td>/dev/ttyUSB0</td><td>Incluido</td></tr>
                    <tr><td>Mac</td><td>/dev/cu.usbserial</td><td>CP210x</td></tr>
                </tbody>
            </table>
            
            <h3>Botones Clave del IDE</h3>
            <table>
                <thead>
                    <tr><th>Bot√≥n</th><th>Funci√≥n</th><th>Atajo</th></tr>
                </thead>
                <tbody>
                    <tr><td>‚úÖ Verify</td><td>Compilar y chequear errores</td><td>Ctrl+R</td></tr>
                    <tr><td>‚Üí Upload</td><td>Subir c√≥digo al ESP32</td><td>Ctrl+U</td></tr>
                    <tr><td>üìü Serial Monitor</td><td>Ver mensajes del ESP32</td><td>Ctrl+Shift+M</td></tr>
                </tbody>
            </table>

            <!-- Infograf√≠a: Arduino IDE -->
            <figure>
                <img src="../assets/infografias/clase-06-arduino-ide.png" alt="Infograf√≠a: Entorno de desarrollo Arduino IDE">
                <figcaption>Figura 1: Arduino IDE - Interfaz y componentes principales del entorno de desarrollo</figcaption>
            </figure>
        </section>

        <!-- Estructura -->
        <section id="estructura">
            <h2>üìê Estructura de un Programa Arduino</h2>

            <div class="learning-key">
                <h4>üéØ Aprendizaje Clave</h4>
                <p>Todo programa Arduino tiene dos partes: <code>setup()</code> (configuraci√≥n inicial √∫nica) y <code>loop()</code> (bucle infinito). Esta estructura es el fundamento de todo c√≥digo embebido.</p>
            </div>
            
            <p>Todo programa Arduino tiene exactamente <strong>dos funciones obligatorias</strong>:</p>
            
            <h3>1. `setup()` - Configuraci√≥n</h3>
            <ul>
                <li>Se ejecuta <strong>una sola vez</strong> al inicio</li>
                <li>Se usa para configurar pines, iniciar comunicaci√≥n, etc.</li>
                <li>Equivalente al "constructor" o "inicializador"</li>
            </ul>
            
            <h3>2. `loop()` - Bucle Principal</h3>
            <ul>
                <li>Se ejecuta <strong>infinitamente</strong> despu√©s de setup()</li>
                <li>Aqu√≠ va la l√≥gica principal del programa</li>
                <li>Cada iteraci√≥n es un "ciclo" del programa</li>
            </ul>
            
            <div class="info-box success">
                <h4>üîÅ Orden de Ejecuci√≥n</h4>

                <div class="execution-flow-diagram">
                    <div class="flow-container">
                        <div class="flow-step flow-start">
                            <span class="step-icon">‚ö°</span>
                            <span class="step-text">ENCENDIDO</span>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step flow-setup">
                            <span class="step-icon">‚öôÔ∏è</span>
                            <span class="step-text">setup()</span>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step flow-loop">
                            <span class="step-icon">üîÑ</span>
                            <span class="step-text">loop()</span>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step flow-loop">
                            <span class="step-icon">üîÑ</span>
                            <span class="step-text">loop()</span>
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-step flow-ellipsis">
                            <span class="step-text">...</span>
                        </div>
                    </div>
                    <div class="reset-loop">
                        <div class="reset-arrow">
                            <span class="reset-icon">üîô</span>
                            <span class="reset-text">RESET</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <h3>Analog√≠a con la Vida Real: Cocina</h3>
            <table>
                <thead>
                    <tr><th>Programa Arduino</th><th>Cocina</th></tr>
                </thead>
                <tbody>
                    <tr><td><code>setup()</code></td><td>Preparar ingredientes y utensilios</td></tr>
                    <tr><td><code>loop()</code></td><td>Cocinar repetidamente (servir platos)</td></tr>
                    <tr><td>Variables globales</td><td>Ingredientes en la mesa</td></tr>
                    <tr><td><code>millis()</code></td><td>Reloj controlando tiempos</td></tr>
                </tbody>
            </table>

            <!-- Infograf√≠a: Programaci√≥n Arduino -->
            <figure>
                <img src="../assets/infografias/clase-06-programacion-arduino.png" alt="Infograf√≠a: Estructura y flujo de un programa Arduino">
                <figcaption>Figura 2: Estructura Arduino - setup(), loop() y flujo de ejecuci√≥n</figcaption>
            </figure>
        </section>

        <!-- Funciones -->
        <section id="funciones">
            <h2>‚ö° Funciones B√°sicas de Entrada/Salida</h2>

            <div class="learning-key">
                <h4>üéØ Aprendizaje Clave</h4>
                <p>Las funciones <code>pinMode()</code>, <code>digitalWrite()</code>, <code>digitalRead()</code> y <code>analogRead()</code> son los <strong>primitivos b√°sicos</strong> para interactuar con el mundo f√≠sico desde el c√≥digo.</p>
            </div>
            
            <h3>Configuraci√≥n y Digital</h3>
            <pre>// Configurar pines
pinMode(pin, OUTPUT);        // Salida
pinMode(pin, INPUT);         // Entrada
pinMode(pin, INPUT_PULLUP);  // Con pull-up interno

// Escribir/leer digital
digitalWrite(pin, HIGH);     // 3.3V
digitalWrite(pin, LOW);      // 0V
int valor = digitalRead(pin); // HIGH o LOW</pre>
            
            <h3>Anal√≥gico y PWM</h3>
            <pre>// Leer ADC (0-4095 en ESP32)
int valor = analogRead(pin);

// PWM en ESP32
ledcSetup(channel, 5000, 8);  // 5kHz, 8-bit
ledcAttachPin(pin, channel);
ledcWrite(channel, 127);      // 50% brillo</pre>
            
            <h3>Tiempo y Serial</h3>
            <pre>// Pausas
delay(1000);              // 1 segundo (bloquea)
unsigned long t = millis(); // Tiempo desde inicio (no bloquea)

// Serial
Serial.begin(115200);
Serial.println("Valor: " + String(valor));
Serial.printf("Temp: %.2f C\n", temp);</pre>
            
            <div class="info-box info">
                <h4>üìü Monitor Serial: Herramienta de Depuraci√≥n</h4>
                <p>Canal de comunicaci√≥n entre el ESP32 y la computadora que permite ver valores de sensores en tiempo real, enviar comandos al microcontrolador, depurar errores en el c√≥digo.</p>
                <p><strong>Velocidad (Baud Rate):</strong> 9600 (compatible universal), 115200 (est√°ndar ESP32), 921600 (upload r√°pido).</p>
                <p><strong>IMPORTANTE:</strong> La velocidad en c√≥digo debe coincidir con la del monitor serial.</p>
            </div>
        </section>
        
        <!-- Blink LED -->
        <section id="blink">
            <h2>üí° Proyecto 1: LED Blink (El "Hola Mundo" de Hardware)</h2>

            <div class="learning-key">
                <h4>üéØ Aprendizaje Clave</h4>
                <p>El proyecto Blink ense√±a la diferencia entre <code>delay()</code> (bloqueante) y <code>millis()</code> (no bloqueante). El enfoque no bloqueante es esencial para sistemas que deben hacer m√∫ltiples tareas simult√°neamente.</p>
            </div>

            <div class="hardware-notice">
                <h4>üîß Alternativas sin Hardware F√≠sico</h4>
                <p><strong>Simuladores gratuitos:</strong> Wokwi.com (recomendado), Tinkercad Circuits. Permiten probar el c√≥digo completo sin comprar ESP32 ni componentes.</p>
            </div>
            
            <h3>Versi√≥n B√°sica (con delay)</h3>
            <pre>// Pin del LED integrado en ESP32
const int LED_PIN = 2;

void setup() {
    pinMode(LED_PIN, OUTPUT);
}

void loop() {
    digitalWrite(LED_PIN, HIGH);
    delay(1000);  // Esperar 1 segundo
    digitalWrite(LED_PIN, LOW);
    delay(1000);  // Esperar 1 segundo
}</pre>
            
            <div class="info-box warning">
                <h4>‚ö†Ô∏è Problema con delay()</h4>
                <p>El <code>delay()</code> bloquea TODO el programa. Durante ese segundo, el ESP32 no puede hacer nada m√°s.</p>
            </div>
            
            <h3>Versi√≥n Profesional (sin delay)</h3>
            <pre>const int LED_PIN = 2;

unsigned long tiempoAnterior = 0;
const long intervalo = 1000;  // 1 segundo
int estadoLED = LOW;

void setup() {
    pinMode(LED_PIN, OUTPUT);
}

void loop() {
    unsigned long tiempoActual = millis();
    
    if (tiempoActual - tiempoAnterior >= intervalo) {
        tiempoAnterior = tiempoActual;
        estadoLED = !estadoLED;  // Toggle
        digitalWrite(LED_PIN, estadoLED);
    }
    
    // ¬°Aqu√≠ puedes hacer otras tareas!
    // Leer sensores, checar botones, etc.
}</pre>
            
            <div class="info-box success">
                <h4>‚úÖ Ventaja de millis()</h4>
                <p>No bloquea el programa. Permite multitarea.</p>
            </div>
        </section>
        
        <!-- Bot√≥n + LED -->
        <section id="boton">
            <h2>üîò Proyecto 2: Bot√≥n Controla LED</h2>
            
            <h3>Conexi√≥n</h3>
            <table>
                <thead>
                    <tr><th>ESP32</th><th>Componente</th></tr>
                </thead>
                <tbody>
                    <tr><td>GPIO15</td><td>Bot√≥n (INPUT_PULLUP)</td></tr>
                    <tr><td>GPIO2</td><td>LED + Resistencia 220Œ©</td></tr>
                    <tr><td>GND</td><td>Com√∫n</td></tr>
                </tbody>
            </table>
            
            <p><strong>INPUT_PULLUP:</strong> LOW = presionado, HIGH = suelto</p>
            
            <h3>C√≥digo</h3>
            <pre>const int LED_PIN = 2;
const int BOTON_PIN = 15;

void setup() {
  pinMode(LED_PIN, OUTPUT);
  pinMode(BOTON_PIN, INPUT_PULLUP);
  Serial.begin(115200);
}

void loop() {
  if (digitalRead(BOTON_PIN) == LOW) {
    digitalWrite(LED_PIN, HIGH);  // Presionado
  } else {
    digitalWrite(LED_PIN, LOW);   // Suelto
  }
  delay(100);
}</pre>
            
            <h3>Componentes Necesarios</h3>
            <table>
                <thead>
                    <tr><th>Componente</th><th>Cantidad</th></tr>
                </thead>
                <tbody>
                    <tr><td>ESP32 DevKit</td><td>1</td></tr>
                    <tr><td>LED</td><td>1</td></tr>
                    <tr><td>Bot√≥n pulsador</td><td>1</td></tr>
                    <tr><td>Resistencia 220Œ©</td><td>1</td></tr>
                    <tr><td>Protoboard + cables</td><td>-</td></tr>
                </tbody>
            </table>
        </section>
        
        <!-- LDR -->
        <section id="ldr">
            <h2>‚òÄÔ∏è Proyecto 3: Sensor de Luz (LDR)</h2>
            
            <h3>¬øQu√© es el LDR?</h3>
            <p><strong>LDR (Light Dependent Resistor)</strong> = Fotoresistencia</p>
            <table>
                <thead>
                    <tr><th>Condici√≥n</th><th>Resistencia</th></tr>
                </thead>
                <tbody>
                    <tr><td><strong>Oscuro</strong></td><td>Alta (MŒ©)</td></tr>
                    <tr><td><strong>Iluminado</strong></td><td>Baja (Œ©)</td></tr>
                </tbody>
            </table>
            
            <h3>Conexi√≥n (Divisor de Voltaje)</h3>
            <p><strong>3.3V ‚Üí LDR ‚Üí GPIO34 ‚Üí Resistencia 10KŒ© ‚Üí GND</strong></p>
            <p>M√°s luz = Mayor valor ADC | Menos luz = Menor valor ADC</p>
            
            <h3>C√≥digo</h3>
            <pre>const int LDR_PIN = 34;
const int LED_PIN = 2;

void setup() {
  Serial.begin(115200);
  pinMode(LED_PIN, OUTPUT);
}

void loop() {
  int valorLuz = analogRead(LDR_PIN);
  int porcentaje = map(valorLuz, 0, 4095, 0, 100);

  Serial.print("Luz: ");
  Serial.print(porcentaje);
  Serial.println("%");

  // LED se enciende si est√° oscuro
  digitalWrite(LED_PIN, valorLuz < 1000);
  delay(500);
}</pre>
            
            <table>
                <thead>
                    <tr><th>Condici√≥n</th><th>Valor ADC t√≠pico</th></tr>
                </thead>
                <tbody>
                    <tr><td>Oscuro</td><td>&lt; 1000</td></tr>
                    <tr><td>Claro</td><td>&gt; 3000</td></tr>
                </tbody>
            </table>
        </section>
        
        <!-- PWM -->
        <section id="pwm">
            <h2>üé® Proyecto 4: Control de Brillo con PWM</h2>
            
            <h3>¬øQu√© es PWM?</h3>
            <p><strong>PWM (Pulse Width Modulation)</strong> es una t√©cnica para simular una se√±al anal√≥gica usando pulsos digitales.</p>
            
            <h3>Concepto de Duty Cycle</h3>

            <div class="duty-cycle-diagram">
                <div class="duty-intro">
                    <strong>Duty Cycle</strong> = Porcentaje de tiempo en HIGH
                </div>

                <div class="duty-cycles">
                    <div class="duty-cycle-item">
                        <div class="duty-label">25%</div>
                        <div class="duty-wave duty-25">
                            <div class="wave-high"></div>
                            <div class="wave-low"></div>
                        </div>
                        <div class="duty-result">Bajo</div>
                    </div>

                    <div class="duty-cycle-item">
                        <div class="duty-label">50%</div>
                        <div class="duty-wave duty-50">
                            <div class="wave-high"></div>
                            <div class="wave-low"></div>
                        </div>
                        <div class="duty-result">Medio</div>
                    </div>

                    <div class="duty-cycle-item">
                        <div class="duty-label">75%</div>
                        <div class="duty-wave duty-75">
                            <div class="wave-high"></div>
                            <div class="wave-low"></div>
                        </div>
                        <div class="duty-result">Alto</div>
                    </div>

                    <div class="duty-cycle-item">
                        <div class="duty-label">100%</div>
                        <div class="duty-wave duty-100">
                            <div class="wave-high"></div>
                            <div class="wave-low"></div>
                        </div>
                        <div class="duty-result">M√°ximo</div>
                    </div>
                </div>
            </div>
            
            <h3>ESP32 PWM</h3>
            <table>
                <thead>
                    <tr><th>Par√°metro</th><th>Valor T√≠pico</th></tr>
                </thead>
                <tbody>
                    <tr><td>Frecuencia</td><td>5000 Hz</td></tr>
                    <tr><td>Resoluci√≥n</td><td>8 bits (0-255)</td></tr>
                    <tr><td>Canales</td><td>16 disponibles</td></tr>
                </tbody>
            </table>
            
            <h3>C√≥digo: LED Dimmer</h3>
            <pre>const int LED_PIN = 2;
const int PWM_CHANNEL = 0;      // Canal 0-15
const int PWM_FREQ = 5000;      // 5 KHz
const int PWM_RESOLUTION = 8;   // 8 bits: 0-255

void setup() {
    ledcSetup(PWM_CHANNEL, PWM_FREQ, PWM_RESOLUTION);
    ledcAttachPin(LED_PIN, PWM_CHANNEL);
}

void loop() {
    // Fade in (aumentar brillo)
    for (int brillo = 0; brillo <= 255; brillo++) {
        ledcWrite(PWM_CHANNEL, brillo);
        delay(10);
    }
    
    // Fade out (disminuir brillo)
    for (int brillo = 255; brillo >= 0; brillo--) {
        ledcWrite(PWM_CHANNEL, brillo);
        delay(10);
    }
}</pre>
            
            <h3>Funciones PWM en ESP32</h3>
            <table>
                <thead>
                    <tr><th>Funci√≥n</th><th>Descripci√≥n</th></tr>
                </thead>
                <tbody>
                    <tr><td><code>ledcSetup(ch, freq, res)</code></td><td>Configura canal</td></tr>
                    <tr><td><code>ledcAttachPin(pin, ch)</code></td><td>Asocia pin a canal</td></tr>
                    <tr><td><code>ledcWrite(ch, duty)</code></td><td>Escribe valor (0-255)</td></tr>
                    <tr><td><code>ledcDetachPin(pin)</code></td><td>Libera pin</td></tr>
                </tbody>
            </table>
        </section>
        
        <!-- DHT11 -->
        <section id="dht11">
            <h2>üå°Ô∏è Proyecto 5: Sensor DHT11 (Temperatura y Humedad)</h2>

            <div class="learning-key">
                <h4>üéØ Aprendizaje Clave</h4>
                <p>El sensor DHT11 demuestra c√≥mo leer datos de sensores digitales con librer√≠as. La validaci√≥n de datos (<code>isnan()</code>) es cr√≠tica para detectar fallos de comunicaci√≥n.</p>
            </div>
            
            <h3>Instalaci√≥n de Librer√≠a</h3>
            <p>Arduino IDE ‚Üí Sketch ‚Üí Include Library ‚Üí Manage Libraries ‚Üí Buscar "DHT sensor library" (Adafruit)</p>
            
            <h3>Conexi√≥n</h3>
            <table>
                <thead>
                    <tr><th>ESP32</th><th>DHT11</th></tr>
                </thead>
                <tbody>
                    <tr><td>3.3V</td><td>VCC</td></tr>
                    <tr><td>GND</td><td>GND</td></tr>
                    <tr><td>GPIO4 ‚îÄ‚îÄ 10KŒ© ‚îÄ‚îÄ‚ñ∫</td><td>DATA</td></tr>
                </tbody>
            </table>
            <p><strong>Resistencia 10KŒ©</strong> entre DATA y VCC (pull-up)</p>
            
            <h3>Especificaciones DHT11</h3>
            <table>
                <thead>
                    <tr><th>Par√°metro</th><th>Valor</th></tr>
                </thead>
                <tbody>
                    <tr><td>Rango temperatura</td><td>0¬∞C a 50¬∞C (¬±2¬∞C)</td></tr>
                    <tr><td>Rango humedad</td><td>20% a 80% RH (¬±5%)</td></tr>
                    <tr><td>Tiempo entre lecturas</td><td>M√≠nimo 2 segundos</td></tr>
                </tbody>
            </table>
            
            <h3>C√≥digo</h3>
            <pre>#include "DHT.h"

const int DHT_PIN = 4;
DHT dht(DHT_PIN, DHT11);

void setup() {
  Serial.begin(115200);
  dht.begin();
}

void loop() {
  float h = dht.readHumidity();
  float t = dht.readTemperature();

  if (isnan(h) || isnan(t)) {
    Serial.println("Error DHT11!");
    delay(2000);
    return;
  }

  Serial.print("Temp: ");
  Serial.print(t);
  Serial.print("¬∞C  Hum: ");
  Serial.print(h);
  Serial.println("%");
  delay(2000);
}</pre>
            
            <h3>Troubleshooting DHT11</h3>
            <table>
                <thead>
                    <tr><th>Problema</th><th>Soluci√≥n</th></tr>
                </thead>
                <tbody>
                    <tr><td>Lecturas "nan"</td><td>Verificar resistencia 10KŒ©</td></tr>
                    <tr><td>Siempre 0¬∞C</td><td>Revisar conexiones DATA/VCC</td></tr>
                    <tr><td>Lecturas err√°ticas</td><td>Esperar 2s entre lecturas</td></tr>
                </tbody>
            </table>
        </section>
        
        <!-- Buenas Pr√°cticas -->
        <section id="buenas">
            <h2>‚úÖ Buenas Pr√°cticas de Programaci√≥n</h2>
            
            <div class="comparison-grid">
                <div class="comparison-card good">
                    <h4>‚úÖ HACER</h4>
                    <pre>// Constantes para pines
const int LED_PIN = 2;

// Nombres descriptivos
float temperaturaActual;

// millis() en lugar de delay()
unsigned long t = millis();
if (t - tiempoAnterior >= 1000) {
  // Ejecutar cada 1s sin bloquear
}

// Verificar errores
if (isnan(temp)) {
  return;  // Sensor no responde
}</pre>
                </div>
                <div class="comparison-card bad">
                    <h4>‚ùå EVITAR</h4>
                    <pre>// N√∫meros m√°gicos
digitalWrite(2, HIGH);  // ‚ùå

// Delay excesivo
delay(10000);  // ‚ùå Bloquea todo

// Variables sin nombre descriptivo
int x, y, z;  // ‚ùå

// No validar datos
int valor = analogRead(34);  // ‚ùå Sin validar</pre>
                </div>
            </div>
        </section>
        
        <!-- Troubleshooting -->
        <section id="troubleshooting">
            <h2>üêõ Troubleshooting: Problemas Comunes</h2>
            
            <h3>Error: "Failed to connect to ESP32"</h3>
            <table>
                <thead>
                    <tr><th>Causa</th><th>Soluci√≥n</th></tr>
                </thead>
                <tbody>
                    <tr><td>Puerto incorrecto</td><td>Verificar Tools ‚Üí Port</td></tr>
                    <tr><td>Cable de solo carga</td><td>Usar cable de datos USB</td></tr>
                    <tr><td>Drivers faltantes</td><td>Instalar CP2102 o CH340</td></tr>
                    <tr><td>Modo bootloader</td><td>Presionar BOOT al subir</td></tr>
                </tbody>
            </table>
            
            <p><strong>Secuencia de subida:</strong></p>
            <ol>
                <li>Mantener presionado BOOT</li>
                <li>Clic en Upload</li>
                <li>Soltar BOOT cuando diga "Connecting..."</li>
            </ol>
            
            <h3>Error: Caracteres raros en Serial Monitor</h3>
            <div class="info-box warning">
                <h4>‚ö†Ô∏è Soluci√≥n</h4>
                <ol>
                    <li>Verificar baud rate = 115200</li>
                    <li>Ambos lados deben usar misma velocidad</li>
                    <li>Seleccionar "Both NL & CR" en monitor</li>
                </ol>
            </div>
            
            <h3>PlatformIO: Alternativa Profesional</h3>
            <table>
                <thead>
                    <tr><th>Caracter√≠stica</th><th>Arduino IDE</th><th>PlatformIO</th></tr>
                </thead>
                <tbody>
                    <tr><td>Curva aprendizaje</td><td>‚≠ê Muy f√°cil</td><td>‚≠ê‚≠ê‚≠ê Media</td></tr>
                    <tr><td>Gesti√≥n librer√≠as</td><td>B√°sica</td><td>Avanzada</td></tr>
                    <tr><td>IntelliSense</td><td>‚ùå No</td><td>‚úÖ S√≠</td></tr>
                    <tr><td>Autocompletado</td><td>‚ùå No</td><td>‚úÖ S√≠</td></tr>
                    <tr><td>Debug</td><td>‚ùå No</td><td>‚úÖ S√≠</td></tr>
                </tbody>
            </table>
        </section>
        
        <!-- Actividad -->
        <section id="actividad">
            <h2>üìù Actividad Pr√°ctica: Sistema de Alerta de Temperatura</h2>

            <div class="learning-key">
                <h4>üéØ Aprendizaje Clave</h4>
                <p>Integrar m√∫ltiples sensores y actuadores requiere planificar las conexiones, configurar cada pin correctamente, y escribir l√≥gica de decisi√≥n clara.</p>
            </div>

            <div class="hardware-notice">
                <h4>üíª Opciones para Realizar la Actividad</h4>
                <p><strong>Opci√≥n A (Simulador):</strong> Usar Wokwi.com - crear proyecto ESP32 con DHT11 y LEDs. Gratuito y no requiere compras.<br><br>
                <strong>Opci√≥n B (Demo Docente):</strong> El profesor demuestra el circuito en clase.<br><br>
                <strong>Opci√≥n C (Hardware Propio):</strong> Solo si el estudiante ya tiene los componentes (aprox. $15-20 USD).</p>
            </div>
            
            <div class="activity">
                <h4>Descripci√≥n</h4>
                <p>Crear un sistema que:</p>
                <ol>
                    <li><strong>Mida</strong> temperatura con DHT11</li>
                    <li><strong>Indique</strong> estado con LEDs:
                        <ul>
                            <li>üî¥ <strong>Rojo:</strong> &gt; 30¬∞C (Calor)</li>
                            <li>üü¢ <strong>Verde:</strong> 20-30¬∞C (Normal)</li>
                            <li>üîµ <strong>Azul:</strong> &lt; 20¬∞C (Fr√≠o)</li>
                        </ul>
                    </li>
                    <li><strong>Muestre</strong> valores en Monitor Serial</li>
                </ol>
                
                <h4>Materiales</h4>
                <table>
                    <thead>
                        <tr><th>Componente</th><th>Pin ESP32</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>DHT11</td><td>GPIO4</td></tr>
                        <tr><td>LED Rojo</td><td>GPIO18</td></tr>
                        <tr><td>LED Verde</td><td>GPIO19</td></tr>
                        <tr><td>LED Azul</td><td>GPIO21</td></tr>
                    </tbody>
                </table>
                
                <div class="info-box info">
                    <h4>üí° Nota</h4>
                    <p>Resistencia pull-up de 10KŒ© entre DATA y VCC del DHT11</p>
                </div>
                
                <h4>Soluci√≥n de Referencia</h4>
                <pre>#include "DHT.h"

const int DHT_PIN = 4;
const int LED_ROJO = 18;
const int LED_VERDE = 19;
const int LED_AZUL = 21;

DHT dht(DHT_PIN, DHT11);

void setup() {
  Serial.begin(115200);
  pinMode(LED_ROJO, OUTPUT);
  pinMode(LED_VERDE, OUTPUT);
  pinMode(LED_AZUL, OUTPUT);
  dht.begin();
}

void loop() {
  float temp = dht.readTemperature();

  if (isnan(temp)) {
    Serial.println("Error de sensor");
    delay(2000);
    return;
  }

  // Apagar todos
  digitalWrite(LED_ROJO, LOW);
  digitalWrite(LED_VERDE, LOW);
  digitalWrite(LED_AZUL, LOW);

  // Activar LED correspondiente
  if (temp > 30.0) {
    digitalWrite(LED_ROJO, HIGH);
    Serial.println("Calor extremo");
  }
  else if (temp >= 20.0) {
    digitalWrite(LED_VERDE, HIGH);
    Serial.println("Temperatura normal");
  }
  else {
    digitalWrite(LED_AZUL, HIGH);
    Serial.println("Fr√≠o");
  }

  delay(2000);
}</pre>
            </div>
            
            <h3>Evaluaci√≥n E2 (15%) - Pr√≥xima Clase</h3>
            <div class="info-box warning">
                <h4>üìã Presentaci√≥n: Interacci√≥n Mundo F√≠sico-Virtual</h4>
                <p><strong>Objetivo:</strong> Dise√±ar y explicar un proyecto IoT completo</p>
                <p><strong>Requisitos:</strong></p>
                <ul>
                    <li>M√≠nimo 2 sensores diferentes</li>
                    <li>M√≠nimo 1 actuador</li>
                    <li>Diagrama de conexiones claro</li>
                    <li>Pseudoc√≥digo o c√≥digo funcional</li>
                    <li>Aplicaci√≥n pr√°ctica contextualizada</li>
                </ul>
                <p><strong>Formato:</strong> Grupos de 3 personas, presentaci√≥n 10 minutos</p>
            </div>
        </section>
        
        <!-- Resumen -->
        <section>
            <h2>üìã Resumen de la Clase</h2>
            
            <table>
                <thead>
                    <tr><th>Concepto</th><th>Descripci√≥n</th></tr>
                </thead>
                <tbody>
                    <tr><td><code>setup()</code></td><td>Funci√≥n que se ejecuta una vez al inicio</td></tr>
                    <tr><td><code>loop()</code></td><td>Funci√≥n que se repite infinitamente</td></tr>
                    <tr><td><code>pinMode()</code></td><td>Configura un pin como entrada o salida</td></tr>
                    <tr><td><code>digitalWrite()</code></td><td>Escribe HIGH (3.3V) o LOW (0V)</td></tr>
                    <tr><td><code>digitalRead()</code></td><td>Lee el estado de un pin digital</td></tr>
                    <tr><td><code>analogRead()</code></td><td>Lee valor anal√≥gico (0-4095 en ESP32)</td></tr>
                    <tr><td><code>Serial.begin()</code></td><td>Inicia comunicaci√≥n serial</td></tr>
                    <tr><td><code>Serial.print()</code></td><td>Imprime texto al monitor serial</td></tr>
                    <tr><td><code>delay()</code></td><td>Pausa la ejecuci√≥n (milisegundos)</td></tr>
                    <tr><td><code>millis()</code></td><td>Retorna tiempo desde inicio (sin bloquear)</td></tr>
                </tbody>
            </table>
            
            <h3>Proyectos Realizados</h3>
            <ol>
                <li>‚úÖ <strong>LED Blink:</strong> Parpadeo b√°sico con delay y millis</li>
                <li>‚úÖ <strong>Bot√≥n + LED:</strong> Entrada digital con pull-up</li>
                <li>‚úÖ <strong>LDR:</strong> Lectura anal√≥gica de luz</li>
                <li>‚úÖ <strong>PWM:</strong> Control de brillo con fade</li>
                <li>‚úÖ <strong>DHT11:</strong> Sensor de temperatura/humedad</li>
                <li>‚úÖ <strong>Sistema de Alerta:</strong> Integraci√≥n completa</li>
            </ol>
            
            <div class="info-box success">
                <h4>‚û°Ô∏è Pr√≥xima Clase: Conectividad WiFi</h4>
                <ul>
                    <li>üì° Configuraci√≥n WiFi en ESP32 (modo STA y AP)</li>
                    <li>üåê Servidor web b√°sico con ESP32</li>
                    <li>üìä Env√≠o de datos a la nube</li>
                    <li>üîê Seguridad b√°sica en redes IoT</li>
                </ul>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p><strong>IF0112 - Complementaria II (IoT)</strong></p>
        <p>Universidad Aut√≥noma Latinoamericana (UNAULA) - Ingenier√≠a Inform√°tica - 2026-I</p>
        <p style="margin-top: 1rem; font-size: 0.85rem; opacity: 0.8;">Clase 6: Programaci√≥n para Microcontroladores | √öltima actualizaci√≥n: Febrero 2026</p>
    </footer>
    </div>

    <script>
        // ============================================
        // SCROLL PROGRESS & BACK TO TOP
        // ============================================
        (function() {
            'use strict';

            const progressFill = document.getElementById('progressFill');
            const backToTop = document.getElementById('backToTop');

            if (!progressFill || !backToTop) return;

            // Update progress bar and back-to-top visibility
            function updateProgress() {
                const windowHeight = window.innerHeight;
                const documentHeight = document.documentElement.scrollHeight - windowHeight;
                const scrolled = window.scrollY;
                const progress = (scrolled / documentHeight) * 100;

                progressFill.style.width = Math.min(progress, 100) + '%';

                // Show/hide back-to-top button
                if (scrolled > windowHeight * 0.5) {
                    backToTop.classList.add('visible');
                } else {
                    backToTop.classList.remove('visible');
                }
            }

            // Smooth scroll to top
            function scrollToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            }

            // Throttle scroll events for performance
            let ticking = false;
            function onScroll() {
                if (!ticking) {
                    window.requestAnimationFrame(function() {
                        updateProgress();
                        ticking = false;
                    });
                    ticking = true;
                }
            }

            // Event listeners
            window.addEventListener('scroll', onScroll, { passive: true });
            backToTop.addEventListener('click', scrollToTop);

            // Keyboard accessibility for back-to-top
            backToTop.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    scrollToTop();
                }
            });

            // Initial call
            updateProgress();
        })();
    </script>
</body>
</html>
